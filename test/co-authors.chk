#reposurgeon sourcetype svn
blob
mark :1
data 210
# A simulation of Subversion default ignores, generated by reposurgeon.
*.o
*.lo
*.la
*.al
*.libs
*.so
*.so.[0-9]*
*.a
*.pyc
*.pyo
*.rej
*~
*.#*
.*.swp
.DS_store
# Simulated Subversion default ignores end here

blob
mark :2
data 211
2019-12-25  First Author  <first@author.example>
	    Tabbed Second Author Single Space <second@author.example>
            Spaced Third Author Double Space Trailing  <third@author.example> 

	* foo: New file.


blob
mark :3
data 4
foo

blob
mark :4
data 191
2019-12-25  First Author  <first@author.example>
            Spaced Third Author Double Space Trailing <third@author.example>
	    Fourth Author  <fourth@author.example>

	* tfoo: New file.


blob
mark :5
data 5
tfoo

commit refs/heads/master
#legacy-id 2
mark :6
committer jsm28 <jsm28> 1577283844 +0000
data 590
First commit with coauthors.

Note that co-author lines may be indented using tabs or spaces.  There
may be trailing whitespace after the email address.  There may be any
nonempty whitespace between the name and the email address and that
does not affect the author identity.  The main author must be the same
between different ChangeLog entries, but the coauthors may be
different.  So this commit should have First Author as the main author
and Tabbed Second Author Single Space, Spaced Third Author Double
Space Trailing and Fourth Author as the co-authors (in any
deterministic order).
M 100644 :1 .gitignore
M 100644 :2 ChangeLog
M 100644 :3 foo
M 100644 :4 subdir/ChangeLog
M 100644 :5 subdir/tfoo

blob
mark :7
data 230
2019-12-25  First Author  <first@author.example>
	    Tabbed Second Author Single Space <second@author.example>
            Spaced Third Author Double Space Trailing  <third@author.example> 

	* bar: New file.

	* foo: New file.


blob
mark :8
data 4
bar

blob
mark :9
data 382
2019-12-25  First Author  <first@author.example>
            Spaced Third Author Double Space Trailing <third@author.example>
	    Fourth Author  <fourth@author.example>

	* tbar: New file.

2019-12-25  First Author  <first@author.example>
            Spaced Third Author Double Space Trailing <third@author.example>
	    Fourth Author  <fourth@author.example>

	* tfoo: New file.


blob
mark :10
data 5
tbar

commit refs/heads/master
#legacy-id 3
mark :11
committer jsm28 <jsm28> 1577283965 +0000
data 157
Add bar.

This should have the same authors as the previous commit.  One
ChangeLog file adds a new header; the other adds an entry under an
existing header.
from :6
M 100644 :7 ChangeLog
M 100644 :8 bar
M 100644 :9 subdir/ChangeLog
M 100644 :10 subdir/tbar

blob
mark :12
data 296
2019-12-25  First Author  <first@author.example>

	* foo: Modify

2019-12-25  First Author  <first@author.example>
	    Tabbed Second Author Single Space <second@author.example>
            Spaced Third Author Double Space Trailing  <third@author.example> 

	* bar: New file.

	* foo: New file.


blob
mark :13
data 9
foo
test

blob
mark :14
data 493
2019-12-25  Fourth Author  <fourth@author.example>
	    First Author  <first@author.example>

	* tfoo: Modify

2019-12-25  First Author  <first@author.example>
            Spaced Third Author Double Space Trailing <third@author.example>
	    Fourth Author  <fourth@author.example>

	* tbar: New file.

2019-12-25  First Author  <first@author.example>
            Spaced Third Author Double Space Trailing <third@author.example>
	    Fourth Author  <fourth@author.example>

	* tfoo: New file.


blob
mark :15
data 10
tfoo
test

commit refs/heads/master
#legacy-id 4
mark :16
committer jsm28 <jsm28> 1577284107 +0000
data 247
Commit with mixed authors.

Because the first listed author varies between ChangeLog entries, the
author of this commit should be the same as the committer rather than
taken from ChangeLog entries, and it should not be marked as having
coauthors.
from :11
M 100644 :12 ChangeLog
M 100644 :13 foo
M 100644 :14 subdir/ChangeLog
M 100644 :15 subdir/tfoo

blob
mark :17
data 368
2019-12-25  Next Author  <next@author.example>
	
	* foo: Modify again.

2019-12-25  First Author  <first@author.example>

	* foo: Modify

2019-12-25  First Author  <first@author.example>
	    Tabbed Second Author Single Space <second@author.example>
            Spaced Third Author Double Space Trailing  <third@author.example> 

	* bar: New file.

	* foo: New file.


blob
mark :18
data 14
foo
test
next

commit refs/heads/master
#legacy-id 5
mark :19
committer jsm28 <jsm28> 1577284242 +0000
data 298
Change with no coauthor.

This has a valid header for Next Author <next@author.example>, which
should become the git author for this commit.  The following line has
only whitespace and thus terminates the search for coauthor lines (as
would any line not in the right format to be a coauthor line).
from :16
M 100644 :17 ChangeLog
M 100644 :18 foo

blob
mark :20
data 486
2019-12-25  Random Author  <random@author.example>
	
	    Not a Coauthor  <co@author.example>

	* foo: Modify again.

2019-12-25  Next Author  <next@author.example>
	
	* foo: Modify again.

2019-12-25  First Author  <first@author.example>

	* foo: Modify

2019-12-25  First Author  <first@author.example>
	    Tabbed Second Author Single Space <second@author.example>
            Spaced Third Author Double Space Trailing  <third@author.example> 

	* bar: New file.

	* foo: New file.


blob
mark :21
data 16
foo
test
next
x

commit refs/heads/master
#legacy-id 6
mark :22
committer jsm28 <jsm28> 1577284322 +0000
data 145
Another single author commit.

The "Not a Coauthor" line does not add a coauthor, because the
previous line terminates the search for coauthors.
from :19
M 100644 :20 ChangeLog
M 100644 :21 foo

blob
mark :23
data 633
2019-12-25  Test Author  <test@author.example>
	    Second Author  <second@author.example>
	* Not an author <not@author.example>

	* foo: Modify.

2019-12-25  Random Author  <random@author.example>
	
	    Not a Coauthor  <co@author.example>

	* foo: Modify again.

2019-12-25  Next Author  <next@author.example>
	
	* foo: Modify again.

2019-12-25  First Author  <first@author.example>

	* foo: Modify

2019-12-25  First Author  <first@author.example>
	    Tabbed Second Author Single Space <second@author.example>
            Spaced Third Author Double Space Trailing  <third@author.example> 

	* bar: New file.

	* foo: New file.


blob
mark :24
data 2
y

commit refs/heads/master
#legacy-id 7
mark :25
committer jsm28 <jsm28> 1577284554 +0000
data 545
Two-author commit.

Test Author is the main author, and Second Author is a co-author.
Because people may sometimes miss the blank line after authors, a
heuristic should be applied to identify that case: a line that
contains '*', ':', '(', '/' or ')' is probably not an author line, and
thus terminates the search for such lines, even if it otherwise
matches the format (nonempty whitespace, nonempty name not containing
< or >, nonempty whitespace, email address inside <>, optional
whitespace).  So there is only one co-author for this commit.
from :22
M 100644 :23 ChangeLog
M 100644 :24 foo

blob
mark :26
data 771
2019-12-25  Test Author  <test@author.example>
	    Second Author  <second@author.example>
Bad Line  <bad@line.example>

	* foo: Modify.

2019-12-25  Test Author  <test@author.example>
	    Second Author  <second@author.example>
	* Not an author <not@author.example>

	* foo: Modify.

2019-12-25  Random Author  <random@author.example>
	
	    Not a Coauthor  <co@author.example>

	* foo: Modify again.

2019-12-25  Next Author  <next@author.example>
	
	* foo: Modify again.

2019-12-25  First Author  <first@author.example>

	* foo: Modify

2019-12-25  First Author  <first@author.example>
	    Tabbed Second Author Single Space <second@author.example>
            Spaced Third Author Double Space Trailing  <third@author.example> 

	* bar: New file.

	* foo: New file.


blob
mark :27
data 2
z

commit refs/heads/master
#legacy-id 8
mark :28
committer jsm28 <jsm28> 1577284633 +0000
data 133
Unindented line test.

A line not starting with white space is not a coauthor line.  So Bad
Line should not be listed as a coauthor.
from :25
M 100644 :26 ChangeLog
M 100644 :27 foo

