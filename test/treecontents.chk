set relax
read <treecontents.svn
inspect
Event 1 =================================================================
#reposurgeon sourcetype svn
Event 2 =================================================================
blob
mark :1
data 210
# A simulation of Subversion default ignores, generated by reposurgeon.
*.o
*.lo
*.la
*.al
*.libs
*.so
*.so.[0-9]*
*.a
*.pyc
*.pyo
*.rej
*~
*.#*
.*.swp
.DS_store
# Simulated Subversion default ignores end here

Event 3 =================================================================
blob
mark :2
data 51
This file should only be in "master" and "branch4"

Event 4 =================================================================
blob
mark :3
data 40
This file should appear in all branches

Event 5 =================================================================
blob
mark :4
data 45
This file should also appear in all branches

Event 6 =================================================================
commit refs/heads/master
#legacy-id 2
mark :5
committer frnchfrgg <frnchfrgg> 1366743542 +0000
data 39
Create some files on the master branch
M 100644 :1 .gitignore
M 100644 :2 master-branch4
M 100644 :3 subdir/subfile1
M 100644 :4 subdir/subfile2

Event 7 =================================================================
commit refs/heads/branch1
#legacy-id 3
mark :6
committer frnchfrgg <frnchfrgg> 1366743719 +0000
data 102
Create a branch by copying subdir from trunk

This branch should only contain subfile1 and subfile2.

from :5
deleteall
M 100644 :1 .gitignore
M 100644 :3 subfile1
M 100644 :4 subfile2

Event 8 =================================================================
blob
mark :7
data 33
This file is specific to branch1

Event 9 =================================================================
commit refs/heads/branch1
#legacy-id 4
mark :8
committer frnchfrgg <frnchfrgg> 1366743856 +0000
data 103
Let's have another commit on branch1

That branch should now have three files:
file
subfile1
subfile2

from :6
M 100644 :7 file

Event 10 ================================================================
commit refs/heads/branch2
#legacy-id 5
mark :9
committer frnchfrgg <frnchfrgg> 1366744116 +0000
data 111
Create a branch "branch2" and copy two files from trunk

The branch should now contain subfile1 and subfile2.

from :5
deleteall
M 100644 :1 .gitignore
M 100644 :3 subfile1
M 100644 :4 subfile2

Event 11 ================================================================
blob
mark :10
data 33
This file is specific to branch2

Event 12 ================================================================
commit refs/heads/branch2
#legacy-id 6
mark :11
committer frnchfrgg <frnchfrgg> 1366744363 +0000
data 79
Have another commit on branch2

It should now contain:
file2
subfile1
subfile2
from :9
M 100644 :10 file2

Event 13 ================================================================
commit refs/heads/branch3
#legacy-id 7
mark :12
committer frnchfrgg <frnchfrgg> 1366744808 +0000
data 44
Create branch3, importing trunk as a subdir
from :5
deleteall
M 100644 :1 .gitignore
M 100644 :2 trunk/master-branch4
M 100644 :3 trunk/subdir/subfile1
M 100644 :4 trunk/subdir/subfile2

Event 14 ================================================================
blob
mark :13
data 24
This file is in branch3

Event 15 ================================================================
commit refs/heads/branch3
#legacy-id 8
mark :14
committer frnchfrgg <frnchfrgg> 1366744925 +0000
data 129
Remove a file of master and create our own

"branch3" should now contain
trunk/file3
trunk/subdir/subfile1
trunk/subdir/subfile2
from :12
M 100644 :13 trunk/file3
D trunk/master-branch4

Event 16 ================================================================
commit refs/heads/branch3b
#legacy-id 9
mark :15
committer frnchfrgg <frnchfrgg> 1366745095 +0000
data 55
Create a new branch and copy a subdir of trunk into it
from :5
deleteall
M 100644 :1 .gitignore
M 100644 :3 subdir/subfile1
M 100644 :4 subdir/subfile2

Event 17 ================================================================
blob
mark :16
data 25
This file is in branch3b

Event 18 ================================================================
commit refs/heads/branch3b
#legacy-id 10
mark :17
committer frnchfrgg <frnchfrgg> 1366745174 +0000
data 113
Add a file in branch3b, creating a commit

The branch should now contain:
file3b
subdir/subfile1
subdir/subfile2
from :15
M 100644 :16 file3b

Event 19 ================================================================
commit refs/heads/branch4
#legacy-id 11
mark :18
committer frnchfrgg <frnchfrgg> 1366745242 +0000
data 41
Create branch4 by a normal copy of trunk
from :5
deleteall
M 100644 :1 .gitignore
M 100644 :2 master-branch4
M 100644 :3 subdir/subfile1
M 100644 :4 subdir/subfile2

Event 20 ================================================================
blob
mark :19
data 24
This file is in branch4

Event 21 ================================================================
commit refs/heads/branch4
#legacy-id 12
mark :20
committer frnchfrgg <frnchfrgg> 1366745333 +0000
data 107
Add a file to branch4

The branch should now contain:
file4
master-branch4
subdir/subfile1
subdir/subfile2
from :18
M 100644 :19 file4

manifest
Event 6 =================================================================
# Legacy-ID: 2
commit refs/heads/master
mark :5

.gitignore -> :1
master-branch4 -> :2
subdir/subfile1 -> :3
subdir/subfile2 -> :4
Event 7 =================================================================
# Legacy-ID: 3
commit refs/heads/branch1
mark :6

.gitignore -> :1
subfile1 -> :3
subfile2 -> :4
Event 9 =================================================================
# Legacy-ID: 4
commit refs/heads/branch1
mark :8

.gitignore -> :1
file -> :7
subfile1 -> :3
subfile2 -> :4
Event 10 ================================================================
# Legacy-ID: 5
commit refs/heads/branch2
mark :9

.gitignore -> :1
subfile1 -> :3
subfile2 -> :4
Event 12 ================================================================
# Legacy-ID: 6
commit refs/heads/branch2
mark :11

.gitignore -> :1
file2 -> :10
subfile1 -> :3
subfile2 -> :4
Event 13 ================================================================
# Legacy-ID: 7
commit refs/heads/branch3
mark :12

.gitignore -> :1
trunk/master-branch4 -> :2
trunk/subdir/subfile1 -> :3
trunk/subdir/subfile2 -> :4
Event 15 ================================================================
# Legacy-ID: 8
commit refs/heads/branch3
mark :14

.gitignore -> :1
trunk/file3 -> :13
trunk/subdir/subfile1 -> :3
trunk/subdir/subfile2 -> :4
Event 16 ================================================================
# Legacy-ID: 9
commit refs/heads/branch3b
mark :15

.gitignore -> :1
subdir/subfile1 -> :3
subdir/subfile2 -> :4
Event 18 ================================================================
# Legacy-ID: 10
commit refs/heads/branch3b
mark :17

.gitignore -> :1
file3b -> :16
subdir/subfile1 -> :3
subdir/subfile2 -> :4
Event 19 ================================================================
# Legacy-ID: 11
commit refs/heads/branch4
mark :18

.gitignore -> :1
master-branch4 -> :2
subdir/subfile1 -> :3
subdir/subfile2 -> :4
Event 21 ================================================================
# Legacy-ID: 12
commit refs/heads/branch4
mark :20

.gitignore -> :1
file4 -> :19
master-branch4 -> :2
subdir/subfile1 -> :3
subdir/subfile2 -> :4
