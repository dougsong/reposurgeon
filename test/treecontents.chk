relax
read <treecontents.svn
reposurgeon: branch links detected by file ops only: ["branches/branch2/", "branches/branch3/"]
inspect
Event 1 =================================================================
#reposurgeon sourcetype svn
Event 2 =================================================================
blob
mark :1
data 225
# A simulation of Subversion default ignores, generated by reposurgeon.
/*.o
/*.lo
/*.la
/*.al
/*.libs
/*.so
/*.so.[0-9]*
/*.a
/*.pyc
/*.pyo
/*.rej
/*~
/*.#*
/.*.swp
/.DS_store
# Simulated Subversion default ignores end here

Event 3 =================================================================
commit refs/heads/master
#legacy-id 1
mark :2
committer frnchfrgg <frnchfrgg> 1366743176 +0000
data 31
Create the standard SVN layout
M 100644 :1 .gitignore

Event 4 =================================================================
blob
mark :3
data 51
This file should only be in "master" and "branch4"

Event 5 =================================================================
blob
mark :4
data 40
This file should appear in all branches

Event 6 =================================================================
blob
mark :5
data 45
This file should also appear in all branches

Event 7 =================================================================
commit refs/heads/master
#legacy-id 2
mark :6
committer frnchfrgg <frnchfrgg> 1366743542 +0000
data 39
Create some files on the master branch
from :2
M 100644 :3 master-branch4
M 100644 :4 subdir/subfile1
M 100644 :5 subdir/subfile2

Event 8 =================================================================
commit refs/heads/branch1
#legacy-id 3
mark :7
committer frnchfrgg <frnchfrgg> 1366743719 +0000
data 102
Create a branch by copying subdir from trunk

This branch should only contain subfile1 and subfile2.

from :6
deleteall
M 100644 :4 subfile1
M 100644 :5 subfile2

Event 9 =================================================================
blob
mark :8
data 33
This file is specific to branch1

Event 10 ================================================================
commit refs/heads/branch1
#legacy-id 4
mark :9
committer frnchfrgg <frnchfrgg> 1366743856 +0000
data 103
Let's have another commit on branch1

That branch should now have three files:
file
subfile1
subfile2

from :7
M 100644 :8 file

Event 11 ================================================================
commit refs/heads/branch2
#legacy-id 5
mark :10
committer frnchfrgg <frnchfrgg> 1366744116 +0000
data 111
Create a branch "branch2" and copy two files from trunk

The branch should now contain subfile1 and subfile2.

from :6
deleteall
M 100644 :1 .gitignore
M 100644 :4 subfile1
M 100644 :5 subfile2

Event 12 ================================================================
blob
mark :11
data 33
This file is specific to branch2

Event 13 ================================================================
commit refs/heads/branch2
#legacy-id 6
mark :12
committer frnchfrgg <frnchfrgg> 1366744363 +0000
data 79
Have another commit on branch2

It should now contain:
file2
subfile1
subfile2
from :10
M 100644 :11 file2

Event 14 ================================================================
commit refs/heads/branch3
#legacy-id 7
mark :13
committer frnchfrgg <frnchfrgg> 1366744808 +0000
data 44
Create branch3, importing trunk as a subdir
from :6
deleteall
M 100644 :1 .gitignore
M 100644 :1 trunk/.gitignore
M 100644 :3 trunk/master-branch4
M 100644 :4 trunk/subdir/subfile1
M 100644 :5 trunk/subdir/subfile2

Event 15 ================================================================
blob
mark :14
data 24
This file is in branch3

Event 16 ================================================================
commit refs/heads/branch3
#legacy-id 8
mark :15
committer frnchfrgg <frnchfrgg> 1366744925 +0000
data 129
Remove a file of master and create our own

"branch3" should now contain
trunk/file3
trunk/subdir/subfile1
trunk/subdir/subfile2
from :13
M 100644 :14 trunk/file3
D trunk/master-branch4

Event 17 ================================================================
commit refs/heads/branch3b
#legacy-id 9
mark :16
committer frnchfrgg <frnchfrgg> 1366745095 +0000
data 55
Create a new branch and copy a subdir of trunk into it
M 100644 :1 .gitignore
M 100644 :4 subdir/subfile1
M 100644 :5 subdir/subfile2

Event 18 ================================================================
blob
mark :17
data 25
This file is in branch3b

Event 19 ================================================================
commit refs/heads/branch3b
#legacy-id 10
mark :18
committer frnchfrgg <frnchfrgg> 1366745174 +0000
data 113
Add a file in branch3b, creating a commit

The branch should now contain:
file3b
subdir/subfile1
subdir/subfile2
from :16
M 100644 :17 file3b

Event 20 ================================================================
commit refs/heads/branch4
#legacy-id 11
mark :19
committer frnchfrgg <frnchfrgg> 1366745242 +0000
data 41
Create branch4 by a normal copy of trunk
from :2
M 100644 :3 master-branch4
M 100644 :4 subdir/subfile1
M 100644 :5 subdir/subfile2

Event 21 ================================================================
blob
mark :20
data 24
This file is in branch4

Event 22 ================================================================
commit refs/heads/branch4
#legacy-id 12
mark :21
committer frnchfrgg <frnchfrgg> 1366745333 +0000
data 107
Add a file to branch4

The branch should now contain:
file4
master-branch4
subdir/subfile1
subdir/subfile2
from :19
M 100644 :20 file4

manifest
Event 3 =================================================================
# Legacy-ID: 1
commit refs/heads/master
mark :2

.gitignore -> :1
Event 7 =================================================================
# Legacy-ID: 2
commit refs/heads/master
mark :6

.gitignore -> :1
master-branch4 -> :3
subdir/subfile1 -> :4
subdir/subfile2 -> :5
Event 8 =================================================================
# Legacy-ID: 3
commit refs/heads/branch1
mark :7

subfile1 -> :4
subfile2 -> :5
Event 10 ================================================================
# Legacy-ID: 4
commit refs/heads/branch1
mark :9

file -> :8
subfile1 -> :4
subfile2 -> :5
Event 11 ================================================================
# Legacy-ID: 5
commit refs/heads/branch2
mark :10

.gitignore -> :1
subfile1 -> :4
subfile2 -> :5
Event 13 ================================================================
# Legacy-ID: 6
commit refs/heads/branch2
mark :12

.gitignore -> :1
file2 -> :11
subfile1 -> :4
subfile2 -> :5
Event 14 ================================================================
# Legacy-ID: 7
commit refs/heads/branch3
mark :13

.gitignore -> :1
trunk/.gitignore -> :1
trunk/master-branch4 -> :3
trunk/subdir/subfile1 -> :4
trunk/subdir/subfile2 -> :5
Event 16 ================================================================
# Legacy-ID: 8
commit refs/heads/branch3
mark :15

.gitignore -> :1
trunk/.gitignore -> :1
trunk/file3 -> :14
trunk/subdir/subfile1 -> :4
trunk/subdir/subfile2 -> :5
Event 17 ================================================================
# Legacy-ID: 9
commit refs/heads/branch3b
mark :16

.gitignore -> :1
subdir/subfile1 -> :4
subdir/subfile2 -> :5
Event 19 ================================================================
# Legacy-ID: 10
commit refs/heads/branch3b
mark :18

.gitignore -> :1
file3b -> :17
subdir/subfile1 -> :4
subdir/subfile2 -> :5
Event 20 ================================================================
# Legacy-ID: 11
commit refs/heads/branch4
mark :19

.gitignore -> :1
master-branch4 -> :3
subdir/subfile1 -> :4
subdir/subfile2 -> :5
Event 22 ================================================================
# Legacy-ID: 12
commit refs/heads/branch4
mark :21

.gitignore -> :1
file4 -> :20
master-branch4 -> :3
subdir/subfile1 -> :4
subdir/subfile2 -> :5
