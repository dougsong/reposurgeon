set relax
read <testrepo.fi
<2010-11-06T10:49:58Z> list
    14 2010-11-06T10:49:58Z    :13 1a2797 Create the third doomed file.
<2010-11-06T10:49:58Z> assign fubar
<fubar> list
    14 2010-11-06T10:49:58Z    :13 1a2797 Create the third doomed file.
<quozzle> resolve Unassigned name
reposurgeon: couldn't match a name at <quozzle>
1 assign fubar
reposurgeon: fubar has already been set
print Check that sequence mutation does not invalidate assignments
Check that sequence mutation does not invalidate assignments
<2010-11-05T22:47:47Z> delete
reposurgeon: warning: commit :4 to be deleted has non-delete fileops.
reposurgeon: assignments invalidated by squash/delete
<fubar> list
reposurgeon: couldn't match a name at <fubar>
print Check that deleting the assigned commit does
Check that deleting the assigned commit does
<2010-11-06T10:49:58Z> delete
reposurgeon: warning: commit :13 to be deleted has non-delete fileops.
<fubar> list
reposurgeon: couldn't match a name at <fubar>
print Test unassign
Test unassign
:32 assign glarp
<glarp> list
    30 2010-11-08T23:02:38Z    :32 e6ffee Recreating bar.
unassign glarp
<glarp> list
reposurgeon: couldn't match a name at <glarp>
